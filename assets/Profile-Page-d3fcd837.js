import{r,u as q,a as X,b as I,m as u,n as Z,j as e,L as b,R as F,o as $,E as J}from"./index-e3d9ccb4.js";const O=()=>{var E,k;const[h,l]=r.useState(""),[p,d]=r.useState(""),[N,C]=r.useState(""),[_,H]=r.useState(""),[V,T]=r.useState(""),[Q,W]=r.useState(""),[ee,M]=r.useState(""),[Y,B]=r.useState(""),[se,K]=r.useState(""),[w,z]=r.useState([]),[f,G]=r.useState([]),{currentUser:x}=q(t=>t.user),s=x;console.log(x);const y=X(),v=I(),U=r.useCallback(t=>{v(u(!0)),v(Z(t)),y(`edit?section=${t}&isEditing=true`)},[v,y]);r.useEffect(()=>{var t,i,g,j,L,S,R,D,P,A;if(s&&(s!=null&&s.userResponse)){const o=(t=s==null?void 0:s.userResponse)==null?void 0:t.userProfile,a=o==null?void 0:o.about,m=o==null?void 0:o.workAndEducation;Array.isArray(a==null?void 0:a.socialLinks)&&((i=a==null?void 0:a.socialLinks)==null?void 0:i.length)>0&&(l(((g=a.socialLinks.find(n=>(n==null?void 0:n.platform)==="Instagram"))==null?void 0:g.link)||""),d(((j=a.socialLinks.find(n=>(n==null?void 0:n.platform)==="LinkedIn"))==null?void 0:j.link)||""),C(((L=a.socialLinks.find(n=>(n==null?void 0:n.platform)==="Twitter"))==null?void 0:L.link)||"")),H(a==null?void 0:a.description),T(a==null?void 0:a.workStarted),W((S=a==null?void 0:a.location)==null?void 0:S.state),M((R=a==null?void 0:a.location)==null?void 0:R.district),B((D=a==null?void 0:a.languagesKnown)==null?void 0:D.join(", ")),K((A=(P=s==null?void 0:s.userResponse)==null?void 0:P.user)==null?void 0:A.username),z(m==null?void 0:m.work),G(m==null?void 0:m.education)}},[s]);const c=t=>{const i=new Date(t),g=i.toLocaleString("default",{month:"short"}),j=i.getFullYear();return[g,j]};return e.jsx("div",{className:"w-full px-4  mb-20   flex flex-col justify-center items-center ",children:e.jsxs("div",{className:"bg-white rounded-xl w-full lg:w-[900px] pb-4 mt-2 relative",children:[e.jsxs("div",{className:"border-2 rounded-3xl shadow-sm pb-4",children:[e.jsxs("div",{className:"",children:[e.jsx("img",{className:"h-[200px] w-screen rounded-t-3xl",src:"https://www.preplaced.in/_next/image?url=%2F_next%2Fstatic%2Fmedia%2FProfileHeader.3d8c11fa.gif&w=1080&q=75",alt:""}),e.jsxs("div",{className:"flex flex-col justify-center items-center md:items-start",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:(s==null?void 0:s.picture)||(x==null?void 0:x.picture),alt:"",className:"h-[170px] w-[170px] border-4 border-white rounded-full object-cover mt-[-90px] md:ml-14 "})}),e.jsx("button",{className:" text-white bg-black text-sm p-2 h-9 rounded-full mt-[-35px] ml-[100px] md:ml-[165px]",children:e.jsx("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT07fzYvDHZlW3Zc7MdDuVaEKzirLu9_Xxqod4C32iS-q6BmWJMjalxF4q5SXq5luWvBps&usqp=CAU",alt:"Edit Icon",className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex flex-col justify-between items-center md:flex-row my-3 md:mt-[20px]",children:[e.jsx("div",{className:"pl-2 md:pl-14 ",children:e.jsxs("div",{className:"flex flex-col  md:items-end md:flex-row justify-center items-center",children:[e.jsx("div",{children:e.jsx("p",{className:"text-2xl font-medium",children:s&&s.name})}),e.jsx("div",{children:e.jsxs("p",{className:"text-slate-500 md:pl-2 font-medium",children:[s&&s.userResponse&&s.userResponse.userProfile&&s.userResponse.userProfile.workAndEducation&&s.userResponse.userProfile.workAndEducation.work&&s.userResponse.userProfile.workAndEducation.work.length>0&&((E=s.userResponse.userProfile.workAndEducation.work.find(t=>t.currentEmployed))==null?void 0:E.jobTitle),e.jsx("span",{children:" at "}),s&&s.userResponse&&s.userResponse.userProfile&&s.userResponse.userProfile.workAndEducation&&s.userResponse.userProfile.workAndEducation.work&&s.userResponse.userProfile.workAndEducation.work.length>0&&((k=s.userResponse.userProfile.workAndEducation.work.find(t=>t.currentEmployed))==null?void 0:k.compName)]})})]})}),e.jsxs("div",{className:"flex flex-col justify-center items-center md:items-end md:mt-[-90px] md:mx-10 ",children:[e.jsxs("div",{className:"flex justify-center items-center w-100 mt-3",children:[e.jsx("div",{className:"mx-2 scale-110",children:e.jsx("p",{className:"flex items-center rounded-lg",children:e.jsx(b,{to:`//${p}`,target:"_blank",children:e.jsx("img",{src:"./linkedin-logo.png",className:"h-7",alt:""})})})}),e.jsx("div",{className:"mx-2 scale-110",children:e.jsx("p",{className:"flex items-center rounded-lg",children:e.jsx("a",{href:N,children:e.jsx("img",{src:"./twitter.png",className:"h-6",alt:""})})})}),e.jsx("div",{className:"mx-2 scale-110",children:e.jsx("p",{className:"flex items-center rounded-lg",children:e.jsx(b,{to:h,target:"_blank",children:e.jsx("img",{src:"https://github.githubassets.com/assets/GitHub-Mark-ea2971cee799.png",className:"h-9",alt:""})})})}),e.jsx("div",{className:"mx-2 scale-110",children:e.jsx("p",{className:"flex items-center rounded-lg",children:e.jsx(b,{to:h,target:"_blank",children:e.jsx("img",{src:"./instagram.png",className:"h-7",alt:""})})})})]}),e.jsx("div",{className:"flex justify-center mt-6 md:mr-2",children:e.jsx("button",{className:"border-2 rounded border-gray-500 text-black scale-[98%] hover:scale-[101%] transform transition duration-300 p-2 w-40",onClick:()=>U("about"),children:"Edit Profile"})})]})]}),e.jsxs("div",{className:"pl-2 md:pl-14 pr-6 mt-7",children:[e.jsxs("div",{className:"border-b-2 pb-2",children:[e.jsx("p",{className:"text-lg  font-semibold",children:"About:"}),e.jsx("p",{className:"",children:_||"Here are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text."})]}),e.jsx("div",{className:"flex justify-between pt-4",children:e.jsxs("div",{className:"flex items-center ",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Languages Known: "}),e.jsx("p",{className:"flex justify-center p-1 rounded-lg",children:Y||"Hindi"})]})})]})]}),w&&w.length>0&&e.jsxs("div",{className:"bg-white  border-2 rounded-3xl w-full lg:w-[900px] pb-4 mt-2 pl-2 lg:pl-14 pr-14 pt-4",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Work"}),w.map((t,i)=>e.jsx(F.Fragment,{children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:" border-b flex gap-4 rounded-md my-3 pl-4 md:w-full p-2 items-center ",children:[e.jsx("div",{children:e.jsx("img",{src:t.compLogo,alt:"compLogo",className:"h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:t.compName}),e.jsx("div",{className:"font-medium text-md",children:t.jobTitle}),e.jsxs("div",{className:"text-gray-500",children:[c(t.startDate)[0]," ",c(t.startDate)[1]," - ",c(t.endDate)[0]," ",c(t.endDate)[1]]})]})]})})},i))]}),f&&f.length>0&&e.jsxs("div",{className:" bg-white border-2 rounded-3xl shadow-sm w-full lg:w-[900px] pb-4 mt-2 pl-2 lg:pl-14 pr-14 pt-4",children:[e.jsx("div",{className:"text-xl font-semibold",children:"Education"}),f&&f.map((t,i)=>e.jsx(F.Fragment,{children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:" border-b flex gap-4 rounded-md my-3 pl-4 md:w-full p-2 items-center ",children:[e.jsx("div",{children:e.jsx("img",{src:t.compLogo,alt:"compLogo",className:"h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:t.clgName}),e.jsx("div",{className:"font-medium text-md",children:t.degree}),e.jsxs("div",{className:"text-gray-500",children:[c(t.startDate)[0]," ",c(t.startDate)[1]," - ",c(t.endDate)[0]," ",c(t.endDate)[1]]})]})]})})},i))]})]})})},ae=()=>{const h=q(d=>d.user.isEditing),l=I(),p=$();return r.useEffect(()=>{const N=new URLSearchParams(p.search).get("isEditing");l(N==="true"?u(!0):u(!1))},[p.search,l]),r.useEffect(()=>{const d=()=>{l(u(!1))};return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d)}},[l]),r.useEffect(()=>()=>{l(u(!1))},[l,history]),e.jsx("div",{children:h?e.jsx(J,{}):e.jsx("div",{children:e.jsx(O,{})})})};export{ae as default};
